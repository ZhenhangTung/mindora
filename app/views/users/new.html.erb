<!--
  This example requires some changes to your config:

  ```
  // tailwind.config.js
  module.exports = {
    // ...
    plugins: [
      // ...
      require('@tailwindcss/forms'),
    ],
  }
  ```
-->
<!--
  This example requires updating your template:

  ```
  <html class="h-full bg-white">
  <body class="h-full">
  ```
-->
<div class="flex min-h-full flex-col justify-center px-6 py-12 lg:px-8">
  <div class="sm:mx-auto sm:w-full sm:max-w-md">
    <%= image_tag 'logo.png', class: 'mx-auto h-12 w-auto', alt: '产品汪汪' %>
    <h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">注册账户</h2>
  </div>

  <div class="mt-8 sm:mx-auto sm:w-full sm:max-w-md">
    <%= form_with model: User.new, url: users_path, local: true, class: "space-y-6" do |form| %>
      <div>
        <%= form.label :phone_number, "手机号", class: "block text-sm font-medium text-gray-900" %>
        <%= form.telephone_field :phone_number,
                                 pattern: "\\d{11}",
                                 placeholder: "请输入你的手机号",
                                 title: "手机号必须是11位数字",
                                 autocomplete: "tel-national",
                                 required: true,
                                 class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" %>
      </div>

      <div>
        <%= form.label :password, "密码", class: "block text-sm font-medium text-gray-900" %>
        <%= form.password_field :password,
                                placeholder: "至少8字符，包含数字",
                                pattern: "(?=.*\\d).{8,}",
                                title: "密码必须至少包含8个字符，且至少包含一个数字",
                                autocomplete: "new-password",
                                required: true,
                                class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" %>
      </div>

      <div>
        <%= form.label :password_confirmation, "确认密码", class: "block text-sm font-medium text-gray-900" %>
        <%= form.password_field :password_confirmation,
                                placeholder: "重复密码",
                                pattern: "(?=.*\\d).{8,}",
                                title: "确认密码必须与密码相匹配，且符合安全要求",
                                autocomplete: "new-password",
                                required: true,
                                class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" %>
      </div>

      <div>
        <%= form.submit "注册", class: "flex w-full justify-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" %>
      </div>
    <% end %>

    <p class="mt-6 text-center text-sm text-gray-500">
      已经是产品汪汪的用户？
      <%= link_to "登录", new_session_path, class: "font-medium text-indigo-600 hover:text-indigo-500" %>
    </p>
  </div>
</div>

